/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./js/main.js":
/*!********************!*\
  !*** ./js/main.js ***!
  \********************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  // -> Global var\r\n  const paddingOffset = window.innerWidth - document.body.offsetWidth;\r\n  const header = document.querySelector('header');\r\n  const main = document.querySelector('main');\r\n  const logo = document.querySelector('.header__logo');\r\n  const anchors = document.querySelectorAll('.scroll a');\r\n  const upBtn = document.querySelector('.arrow-up');\r\n  const offerBtn = document.querySelector('.offer__btn');\r\n  const btnGroup = document.querySelector('.btn-group');\r\n  const menu = document.querySelector('.menu');\r\n  const burgerBtn = document.querySelector('.header__burger');\r\n  const submenuBtn = document.querySelectorAll('.open-sub > a');\r\n  const textWrapper = document.querySelector('.animate-title');\r\n  const aboutDescrTitle = document.querySelector('.description__title');\r\n  const aboutDescrText = document.querySelector('.description__txt');\r\n  const cardSliderLeft = document.querySelector('.card__images_left');\r\n  const cardSliderRight = document.querySelector('.card__images_right');\r\n  const heroSlider = document.querySelector('.hero__slider');\r\n  const playBtn = document.querySelector('.offer__play');\r\n\r\n  window.addEventListener('resize', () => {\r\n    centeredBlock(header);\r\n    if (btnGroup) {\r\n      centeredBlock(btnGroup);\r\n    }\r\n  });\r\n\r\n  function scrollToBlock(id) {\r\n    const t = document.getElementById(id).getBoundingClientRect().top + window.pageYOffset + -130;\r\n    window.scrollTo({\r\n      top: t,\r\n      behavior: 'smooth',\r\n    });\r\n  }\r\n\r\n  // Centered header\r\n  const centeredBlock = el => {\r\n    const elementWidth = el.offsetWidth / 2;\r\n    el.style.cssText = `\r\n\t\t\tmargin-left: -${elementWidth}px;\r\n\t\t\tleft: 50%;\r\n\t\t  `;\r\n  };\r\n\r\n  // -> Smooth scrolling\r\n  window.addEventListener('load', () => {\r\n    centeredBlock(header);\r\n    if (btnGroup) {\r\n      centeredBlock(btnGroup);\r\n    }\r\n    if (!document.location.hash) return;\r\n    const blockID = document.location.hash;\r\n    const id = blockID.split('#')[1];\r\n    scrollToBlock(id);\r\n  });\r\n\r\n  // Title H1 animated\r\n  if (textWrapper) {\r\n    textWrapper.innerHTML = textWrapper.textContent.replace(\r\n      /\\S/g,\r\n      '<span class=\"letter\">$&</span>',\r\n    );\r\n  }\r\n\r\n  anime.timeline({ loop: false }).add({\r\n    targets: '.animate-title .letter',\r\n    opacity: [0, 1],\r\n    easing: 'easeInOutQuad',\r\n    duration: 300,\r\n    delay: (el, i) => 50 * (i + 1),\r\n  });\r\n\r\n  if (main.classList.contains('home-page')) {\r\n    for (let anchor of anchors) {\r\n      anchor.addEventListener('click', function (e) {\r\n        e.preventDefault();\r\n        const blockID = anchor.getAttribute('href');\r\n        if (!!blockID.indexOf('#')) {\r\n          const id = blockID.split('#')[1];\r\n          scrollToBlock(id);\r\n        }\r\n        burgerBtn.classList.remove('active');\r\n        menu.classList.remove('show');\r\n        document.body.classList.remove('hidden');\r\n        removeIndent();\r\n        setTimeout(() => {\r\n          menu.removeAttribute('style');\r\n        }, 500);\r\n      });\r\n    }\r\n  }\r\n\r\n  // -> button-up hidden/show\r\n  window.addEventListener('scroll', function () {\r\n    upBtn.hidden = window.scrollY < 500;\r\n  });\r\n\r\n  const getHref = e => {\r\n    e.preventDefault();\r\n    const blockID = e.target.getAttribute('href');\r\n    const id = blockID.split('#')[1];\r\n    scrollToBlock(id);\r\n  };\r\n\r\n  if (offerBtn) {\r\n    offerBtn.addEventListener('click', getHref);\r\n  }\r\n  upBtn.addEventListener('click', getHref);\r\n\r\n  // -> Menu\r\n  burgerBtn.addEventListener('click', function () {\r\n    setTimeout(() => {\r\n      this.classList.toggle('active');\r\n    }, 250);\r\n    document.body.classList.add('hidden');\r\n    document.body.style.paddingRight = `${paddingOffset}px`;\r\n    addIndent();\r\n    menu.classList.toggle('show');\r\n    if (menu.classList.contains('show')) {\r\n      menu.style.right = `${(document.body.offsetWidth - main.offsetWidth) / 2}px`;\r\n    } else {\r\n      document.body.classList.remove('hidden');\r\n      removeIndent();\r\n      setTimeout(() => {\r\n        menu.removeAttribute('style');\r\n      }, 500);\r\n    }\r\n  });\r\n  submenuBtn.forEach(el => {\r\n    el.addEventListener('click', function (e) {\r\n      e.preventDefault();\r\n      el.classList.toggle('active');\r\n      const subMEnu = el.closest('.open-sub').querySelector('.sub-menu');\r\n      subMEnu.classList.toggle('show');\r\n    });\r\n  });\r\n\r\n  const addIndent = () => {\r\n    if (paddingOffset > 0) {\r\n      burgerBtn.style.right = 5.9 + paddingOffset / 10 + 'rem';\r\n    }\r\n    logo.style.marginLeft = '-' + paddingOffset / 10 + 'rem';\r\n    if (btnGroup) {\r\n      btnGroup.style.marginLeft = '-' + (btnGroup.offsetWidth / 2 + paddingOffset) + 'px';\r\n      btnGroup.hidden = true;\r\n    }\r\n  };\r\n\r\n  const removeIndent = () => {\r\n    if (paddingOffset > 0) burgerBtn.style.right = 5 + 'rem';\r\n    logo.removeAttribute('style');\r\n    if (btnGroup) {\r\n      btnGroup.style.marginLeft = '-' + btnGroup.offsetWidth / 2 + 'px';\r\n      setTimeout(() => {\r\n        btnGroup.hidden = false;\r\n      }, 250);\r\n    }\r\n    document.body.removeAttribute('style');\r\n  };\r\n\r\n  // -> Custom scroll\r\n  new SimpleBar(document.querySelector('.menu'));\r\n\r\n  // -> Sliders\r\n  if (heroSlider) {\r\n    new Swiper('.hero__slider', {\r\n      loop: true,\r\n      autoplay: {\r\n        delay: 7000,\r\n      },\r\n      speed: 3000,\r\n      effect: 'fade',\r\n    });\r\n  }\r\n\r\n  if (cardSliderLeft) {\r\n    new Swiper('.card__images_left', {\r\n      loop: true,\r\n      autoplay: {\r\n        delay: 5000,\r\n      },\r\n      speed: 3000,\r\n      effect: 'fade',\r\n    });\r\n  }\r\n\r\n  if (cardSliderRight) {\r\n    new Swiper('.card__images_right', {\r\n      loop: true,\r\n      autoplay: {\r\n        delay: 3000,\r\n      },\r\n      speed: 3000,\r\n      effect: 'fade',\r\n    });\r\n  }\r\n\r\n  // -> Tab About\r\n  if (aboutDescrTitle) {\r\n    aboutDescrTitle.addEventListener('click', function (e) {\r\n      aboutDescrTitle.classList.toggle('active');\r\n      aboutDescrText.classList.toggle('show');\r\n    });\r\n  }\r\n\r\n  // -> Margin\r\n  if (playBtn) {\r\n    fsLightboxInstances['video'].props.onOpen = () => {\r\n      addIndent();\r\n    };\r\n    fsLightboxInstances['video'].props.onClose = () => {\r\n      removeIndent();\r\n    };\r\n  }\r\n\r\n  // -> Animation numbers\r\n  function outNum(num, elem, time, step) {\r\n    const e = document.querySelector(elem);\r\n    let n = 0;\r\n    const t = Math.round(time / (num / step));\r\n    const interval = setInterval(() => {\r\n      n = n + step;\r\n      if (n == num) {\r\n        clearInterval(interval);\r\n      }\r\n      e.innerHTML = n;\r\n    }, t);\r\n  }\r\n\r\n  // -> Intersection Observer API\r\n  const options = {\r\n    root: null,\r\n    rootMargin: '0px',\r\n    threshold: 0.1,\r\n  };\r\n  const callback = function (entries, observer) {\r\n    entries.forEach(entry => {\r\n      if (entry.intersectionRatio !== 0) {\r\n        if (entry.target.classList.contains('progress')) {\r\n          outNum(30, '.card__number_first', 2000, 1);\r\n          outNum(30, '.card__number_second', 2000, 1);\r\n          outNum(300, '.card__number_third', 2000, 10);\r\n          outNum(500, '.card__number_four', 2000, 10);\r\n          observer.unobserve(entry.target);\r\n        } else {\r\n          entry.target.classList.add('animate');\r\n          observer.unobserve(entry.target);\r\n        }\r\n      }\r\n    });\r\n  };\r\n  const observer = new IntersectionObserver(callback, options);\r\n  const targets = document.querySelectorAll('.scroll-effects');\r\n  targets.forEach(el => {\r\n    observer.observe(el);\r\n  });\r\n});\r\n\r\nconst zoom = document.querySelectorAll('.zoom');\r\nzoom.forEach(el => {\r\n  el.addEventListener('mousemove', zoomImage);\r\n});\r\nfunction zoomImage(e) {\r\n  let offsetX, offsetY;\r\n  const zoomer = e.currentTarget;\r\n  e.offsetX ? (offsetX = e.offsetX) : (offsetX = e.touches[0].pageX);\r\n  e.offsetY ? (offsetY = e.offsetY) : (offsetX = e.touches[0].pageX);\r\n  const x = (offsetX / zoomer.offsetWidth) * 100;\r\n  const y = (offsetY / zoomer.offsetHeight) * 100;\r\n  zoomer.style.backgroundPosition = x + '% ' + y + '%';\r\n}\r\n\n\n//# sourceURL=webpack://nuts_tula/./js/main.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./js/main.js"](0, __webpack_exports__, __webpack_require__);
/******/ 	
/******/ })()
;